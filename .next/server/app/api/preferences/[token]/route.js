/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/preferences/[token]/route";
exports.ids = ["app/api/preferences/[token]/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpreferences%2F%5Btoken%5D%2Froute&page=%2Fapi%2Fpreferences%2F%5Btoken%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpreferences%2F%5Btoken%5D%2Froute.ts&appDir=%2FUsers%2Fcolinrodrigues%2Ftribe_mvp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcolinrodrigues%2Ftribe_mvp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpreferences%2F%5Btoken%5D%2Froute&page=%2Fapi%2Fpreferences%2F%5Btoken%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpreferences%2F%5Btoken%5D%2Froute.ts&appDir=%2FUsers%2Fcolinrodrigues%2Ftribe_mvp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcolinrodrigues%2Ftribe_mvp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_colinrodrigues_tribe_mvp_src_app_api_preferences_token_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/preferences/[token]/route.ts */ \"(rsc)/./src/app/api/preferences/[token]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/preferences/[token]/route\",\n        pathname: \"/api/preferences/[token]\",\n        filename: \"route\",\n        bundlePath: \"app/api/preferences/[token]/route\"\n    },\n    resolvedPagePath: \"/Users/colinrodrigues/tribe_mvp/src/app/api/preferences/[token]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_colinrodrigues_tribe_mvp_src_app_api_preferences_token_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZwcmVmZXJlbmNlcyUyRiU1QnRva2VuJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwcmVmZXJlbmNlcyUyRiU1QnRva2VuJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcHJlZmVyZW5jZXMlMkYlNUJ0b2tlbiU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmNvbGlucm9kcmlndWVzJTJGdHJpYmVfbXZwJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmNvbGlucm9kcmlndWVzJTJGdHJpYmVfbXZwJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUN3QjtBQUNyRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmliZS1tdnAvPzQ4NzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9jb2xpbnJvZHJpZ3Vlcy90cmliZV9tdnAvc3JjL2FwcC9hcGkvcHJlZmVyZW5jZXMvW3Rva2VuXS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcHJlZmVyZW5jZXMvW3Rva2VuXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3ByZWZlcmVuY2VzL1t0b2tlbl1cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3ByZWZlcmVuY2VzL1t0b2tlbl0vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvY29saW5yb2RyaWd1ZXMvdHJpYmVfbXZwL3NyYy9hcHAvYXBpL3ByZWZlcmVuY2VzL1t0b2tlbl0vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpreferences%2F%5Btoken%5D%2Froute&page=%2Fapi%2Fpreferences%2F%5Btoken%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpreferences%2F%5Btoken%5D%2Froute.ts&appDir=%2FUsers%2Fcolinrodrigues%2Ftribe_mvp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcolinrodrigues%2Ftribe_mvp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/preferences/[token]/route.ts":
/*!**************************************************!*\
  !*** ./src/app/api/preferences/[token]/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase/server */ \"(rsc)/./src/lib/supabase/server.ts\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _lib_validation_recipients__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/validation/recipients */ \"(rsc)/./src/lib/validation/recipients.ts\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/ZodError.js\");\n\n\n\n\n\nasync function GET(request, { params }) {\n    try {\n        const { token } = await params;\n        const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n        const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)(cookieStore);\n        if (!token || token.trim() === '') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid token'\n            }, {\n                status: 400\n            });\n        }\n        const { data, error } = await supabase.from('recipients').select(`\n        *,\n        recipient_groups(*)\n      `).eq('preference_token', token).eq('is_active', true).single();\n        if (error) {\n            if (error.code === 'PGRST116') {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: 'Invalid or expired token'\n                }, {\n                    status: 404\n                });\n            }\n            console.error('Error fetching recipient by token:', error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Failed to fetch recipient'\n            }, {\n                status: 500\n            });\n        }\n        const recipient = {\n            ...data,\n            group: Array.isArray(data.recipient_groups) ? data.recipient_groups[0] : data.recipient_groups\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            recipient\n        });\n    } catch (error) {\n        console.error('Preference API error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request, { params }) {\n    try {\n        const { token } = await params;\n        const body = await request.json();\n        // Validate the request body\n        const preferences = _lib_validation_recipients__WEBPACK_IMPORTED_MODULE_3__.updatePreferencesSchema.parse(body);\n        const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_2__.cookies)();\n        const supabase = (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.createClient)(cookieStore);\n        if (!token || token.trim() === '') {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid token'\n            }, {\n                status: 400\n            });\n        }\n        // Validate that the token exists and recipient is active\n        const { data: recipient, error: fetchError } = await supabase.from('recipients').select(`\n        *,\n        recipient_groups(*)\n      `).eq('preference_token', token).eq('is_active', true).single();\n        if (fetchError || !recipient) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid or expired preference link'\n            }, {\n                status: 404\n            });\n        }\n        // Check if the new preferences are different from group defaults\n        const group = Array.isArray(recipient.recipient_groups) ? recipient.recipient_groups[0] : recipient.recipient_groups;\n        const overridesGroupDefault = group ? preferences.frequency !== group.default_frequency || !arraysEqual(preferences.preferred_channels, group.default_channels) : true // If no group, any preferences are considered overrides\n        ;\n        const { error: updateError } = await supabase.from('recipients').update({\n            frequency: preferences.frequency,\n            preferred_channels: preferences.preferred_channels,\n            content_types: preferences.content_types,\n            overrides_group_default: overridesGroupDefault\n        }).eq('preference_token', token).eq('is_active', true);\n        if (updateError) {\n            console.error('Error updating recipient preferences:', updateError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Failed to update preferences'\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_4__.ZodError) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid preference data',\n                details: error.errors\n            }, {\n                status: 400\n            });\n        }\n        console.error('Preference update error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nfunction arraysEqual(arr1, arr2) {\n    if (arr1.length !== arr2.length) return false;\n    const sorted1 = [\n        ...arr1\n    ].sort();\n    const sorted2 = [\n        ...arr2\n    ].sort();\n    return sorted1.every((val, i)=>val === sorted2[i]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9wcmVmZXJlbmNlcy9bdG9rZW5dL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBdUQ7QUFDSDtBQUNkO0FBQytCO0FBQzlDO0FBRWhCLGVBQWVLLElBQ3BCQyxPQUFvQixFQUNwQixFQUFFQyxNQUFNLEVBQTBDO0lBRWxELElBQUk7UUFDRixNQUFNLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1EO1FBQ3hCLE1BQU1FLGNBQWMsTUFBTVAscURBQU9BO1FBQ2pDLE1BQU1RLFdBQVdULGtFQUFZQSxDQUFDUTtRQUU5QixJQUFJLENBQUNELFNBQVNBLE1BQU1HLElBQUksT0FBTyxJQUFJO1lBQ2pDLE9BQU9YLHFEQUFZQSxDQUFDWSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBZ0IsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3JFO1FBRUEsTUFBTSxFQUFFQyxJQUFJLEVBQUVGLEtBQUssRUFBRSxHQUFHLE1BQU1ILFNBQzNCTSxJQUFJLENBQUMsY0FDTEMsTUFBTSxDQUFDLENBQUM7OztNQUdULENBQUMsRUFDQUMsRUFBRSxDQUFDLG9CQUFvQlYsT0FDdkJVLEVBQUUsQ0FBQyxhQUFhLE1BQ2hCQyxNQUFNO1FBRVQsSUFBSU4sT0FBTztZQUNULElBQUlBLE1BQU1PLElBQUksS0FBSyxZQUFZO2dCQUM3QixPQUFPcEIscURBQVlBLENBQUNZLElBQUksQ0FBQztvQkFBRUMsT0FBTztnQkFBMkIsR0FBRztvQkFBRUMsUUFBUTtnQkFBSTtZQUNoRjtZQUNBTyxRQUFRUixLQUFLLENBQUMsc0NBQXNDQTtZQUNwRCxPQUFPYixxREFBWUEsQ0FBQ1ksSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQTRCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUNqRjtRQUVBLE1BQU1RLFlBQVk7WUFDaEIsR0FBR1AsSUFBSTtZQUNQUSxPQUFPQyxNQUFNQyxPQUFPLENBQUNWLEtBQUtXLGdCQUFnQixJQUFJWCxLQUFLVyxnQkFBZ0IsQ0FB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QUFFQSxTQUFTcUIsWUFBWVcsSUFBYyxFQUFFQyxJQUFjO0lBQ2pELElBQUlELEtBQUtFLE1BQU0sS0FBS0QsS0FBS0MsTUFBTSxFQUFFLE9BQU87SUFDeEMsTUFBTUMsVUFBVTtXQUFJSDtLQUFLLENBQUNJLElBQUk7SUFDOUIsTUFBTUMsVUFBVTtXQUFJSjtLQUFLLENBQUNHLElBQUk7SUFDOUIsT0FBT0QsUUFBUUcsS0FBSyxDQUFDLENBQUNDLEtBQUtDLElBQU1ELFFBQVFGLE9BQU8sQ0FBQ0csRUFBRTtBQUNyRCIsInNvdXJjZXMiOlsid2VicGFjazovL3RyaWJlLW12cC8uL3NyYy9hcHAvYXBpL3ByZWZlcmVuY2VzL1t0b2tlbl0vcm91dGUudHM/NWNjYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS9zZXJ2ZXInXG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJ1xuaW1wb3J0IHsgdXBkYXRlUHJlZmVyZW5jZXNTY2hlbWEgfSBmcm9tICdAL2xpYi92YWxpZGF0aW9uL3JlY2lwaWVudHMnXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKFxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcbiAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IFByb21pc2U8eyB0b2tlbjogc3RyaW5nIH0+IH1cbikge1xuICB0cnkge1xuICAgIGNvbnN0IHsgdG9rZW4gfSA9IGF3YWl0IHBhcmFtc1xuICAgIGNvbnN0IGNvb2tpZVN0b3JlID0gYXdhaXQgY29va2llcygpXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoY29va2llU3RvcmUpXG5cbiAgICBpZiAoIXRva2VuIHx8IHRva2VuLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52YWxpZCB0b2tlbicgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncmVjaXBpZW50cycpXG4gICAgICAuc2VsZWN0KGBcbiAgICAgICAgKixcbiAgICAgICAgcmVjaXBpZW50X2dyb3VwcygqKVxuICAgICAgYClcbiAgICAgIC5lcSgncHJlZmVyZW5jZV90b2tlbicsIHRva2VuKVxuICAgICAgLmVxKCdpc19hY3RpdmUnLCB0cnVlKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnUEdSU1QxMTYnKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52YWxpZCBvciBleHBpcmVkIHRva2VuJyB9LCB7IHN0YXR1czogNDA0IH0pXG4gICAgICB9XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyByZWNpcGllbnQgYnkgdG9rZW46JywgZXJyb3IpXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCByZWNpcGllbnQnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgICB9XG5cbiAgICBjb25zdCByZWNpcGllbnQgPSB7XG4gICAgICAuLi5kYXRhLFxuICAgICAgZ3JvdXA6IEFycmF5LmlzQXJyYXkoZGF0YS5yZWNpcGllbnRfZ3JvdXBzKSA/IGRhdGEucmVjaXBpZW50X2dyb3Vwc1swXSA6IGRhdGEucmVjaXBpZW50X2dyb3Vwc1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHJlY2lwaWVudCB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1ByZWZlcmVuY2UgQVBJIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiBQcm9taXNlPHsgdG9rZW46IHN0cmluZyB9PiB9XG4pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHRva2VuIH0gPSBhd2FpdCBwYXJhbXNcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblxuICAgIC8vIFZhbGlkYXRlIHRoZSByZXF1ZXN0IGJvZHlcbiAgICBjb25zdCBwcmVmZXJlbmNlcyA9IHVwZGF0ZVByZWZlcmVuY2VzU2NoZW1hLnBhcnNlKGJvZHkpXG5cbiAgICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKVxuICAgIGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KGNvb2tpZVN0b3JlKVxuXG4gICAgaWYgKCF0b2tlbiB8fCB0b2tlbi50cmltKCkgPT09ICcnKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgdG9rZW4nIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSB0aGF0IHRoZSB0b2tlbiBleGlzdHMgYW5kIHJlY2lwaWVudCBpcyBhY3RpdmVcbiAgICBjb25zdCB7IGRhdGE6IHJlY2lwaWVudCwgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncmVjaXBpZW50cycpXG4gICAgICAuc2VsZWN0KGBcbiAgICAgICAgKixcbiAgICAgICAgcmVjaXBpZW50X2dyb3VwcygqKVxuICAgICAgYClcbiAgICAgIC5lcSgncHJlZmVyZW5jZV90b2tlbicsIHRva2VuKVxuICAgICAgLmVxKCdpc19hY3RpdmUnLCB0cnVlKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZmV0Y2hFcnJvciB8fCAhcmVjaXBpZW50KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgb3IgZXhwaXJlZCBwcmVmZXJlbmNlIGxpbmsnIH0sIHsgc3RhdHVzOiA0MDQgfSlcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgbmV3IHByZWZlcmVuY2VzIGFyZSBkaWZmZXJlbnQgZnJvbSBncm91cCBkZWZhdWx0c1xuICAgIGNvbnN0IGdyb3VwID0gQXJyYXkuaXNBcnJheShyZWNpcGllbnQucmVjaXBpZW50X2dyb3VwcykgPyByZWNpcGllbnQucmVjaXBpZW50X2dyb3Vwc1swXSA6IHJlY2lwaWVudC5yZWNpcGllbnRfZ3JvdXBzXG4gICAgY29uc3Qgb3ZlcnJpZGVzR3JvdXBEZWZhdWx0ID0gZ3JvdXAgP1xuICAgICAgcHJlZmVyZW5jZXMuZnJlcXVlbmN5ICE9PSBncm91cC5kZWZhdWx0X2ZyZXF1ZW5jeSB8fFxuICAgICAgIWFycmF5c0VxdWFsKHByZWZlcmVuY2VzLnByZWZlcnJlZF9jaGFubmVscywgZ3JvdXAuZGVmYXVsdF9jaGFubmVscykgOlxuICAgICAgdHJ1ZSAvLyBJZiBubyBncm91cCwgYW55IHByZWZlcmVuY2VzIGFyZSBjb25zaWRlcmVkIG92ZXJyaWRlc1xuXG4gICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncmVjaXBpZW50cycpXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgZnJlcXVlbmN5OiBwcmVmZXJlbmNlcy5mcmVxdWVuY3ksXG4gICAgICAgIHByZWZlcnJlZF9jaGFubmVsczogcHJlZmVyZW5jZXMucHJlZmVycmVkX2NoYW5uZWxzLFxuICAgICAgICBjb250ZW50X3R5cGVzOiBwcmVmZXJlbmNlcy5jb250ZW50X3R5cGVzLFxuICAgICAgICBvdmVycmlkZXNfZ3JvdXBfZGVmYXVsdDogb3ZlcnJpZGVzR3JvdXBEZWZhdWx0XG4gICAgICB9KVxuICAgICAgLmVxKCdwcmVmZXJlbmNlX3Rva2VuJywgdG9rZW4pXG4gICAgICAuZXEoJ2lzX2FjdGl2ZScsIHRydWUpXG5cbiAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHJlY2lwaWVudCBwcmVmZXJlbmNlczonLCB1cGRhdGVFcnJvcilcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZSBwcmVmZXJlbmNlcycgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IHRydWUgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgcHJlZmVyZW5jZSBkYXRhJywgZGV0YWlsczogZXJyb3IuZXJyb3JzIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG4gICAgY29uc29sZS5lcnJvcignUHJlZmVyZW5jZSB1cGRhdGUgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJheXNFcXVhbChhcnIxOiBzdHJpbmdbXSwgYXJyMjogc3RyaW5nW10pOiBib29sZWFuIHtcbiAgaWYgKGFycjEubGVuZ3RoICE9PSBhcnIyLmxlbmd0aCkgcmV0dXJuIGZhbHNlXG4gIGNvbnN0IHNvcnRlZDEgPSBbLi4uYXJyMV0uc29ydCgpXG4gIGNvbnN0IHNvcnRlZDIgPSBbLi4uYXJyMl0uc29ydCgpXG4gIHJldHVybiBzb3J0ZWQxLmV2ZXJ5KCh2YWwsIGkpID0+IHZhbCA9PT0gc29ydGVkMltpXSlcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY3JlYXRlQ2xpZW50IiwiY29va2llcyIsInVwZGF0ZVByZWZlcmVuY2VzU2NoZW1hIiwieiIsIkdFVCIsInJlcXVlc3QiLCJwYXJhbXMiLCJ0b2tlbiIsImNvb2tpZVN0b3JlIiwic3VwYWJhc2UiLCJ0cmltIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiZGF0YSIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsImNvZGUiLCJjb25zb2xlIiwicmVjaXBpZW50IiwiZ3JvdXAiLCJBcnJheSIsImlzQXJyYXkiLCJyZWNpcGllbnRfZ3JvdXBzIiwiUFVUIiwiYm9keSIsInByZWZlcmVuY2VzIiwicGFyc2UiLCJmZXRjaEVycm9yIiwib3ZlcnJpZGVzR3JvdXBEZWZhdWx0IiwiZnJlcXVlbmN5IiwiZGVmYXVsdF9mcmVxdWVuY3kiLCJhcnJheXNFcXVhbCIsInByZWZlcnJlZF9jaGFubmVscyIsImRlZmF1bHRfY2hhbm5lbHMiLCJ1cGRhdGVFcnJvciIsInVwZGF0ZSIsImNvbnRlbnRfdHlwZXMiLCJvdmVycmlkZXNfZ3JvdXBfZGVmYXVsdCIsInN1Y2Nlc3MiLCJab2RFcnJvciIsImRldGFpbHMiLCJlcnJvcnMiLCJhcnIxIiwiYXJyMiIsImxlbmd0aCIsInNvcnRlZDEiLCJzb3J0Iiwic29ydGVkMiIsImV2ZXJ5IiwidmFsIiwiaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/preferences/[token]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/server.ts":
/*!************************************!*\
  !*** ./src/lib/supabase/server.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/@supabase/ssr/dist/index.mjs\");\n\nfunction createClient(cookieStore) {\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://advbcfkisejskhskrmqw.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFkdmJjZmtpc2Vqc2toc2tybXF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwMjYxNTQsImV4cCI6MjA3MzYwMjE1NH0.PscxgrYSa54u37Nwi08QyTmKs6TEdMEcPYdHUTxLi18\", {\n        cookies: {\n            get (name) {\n                return cookieStore.get(name)?.value;\n            },\n            set (name, value, options) {\n                try {\n                    cookieStore.set(name, value, options);\n                } catch  {\n                // The `set` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            },\n            remove (name, options) {\n                try {\n                    cookieStore.set(name, '', {\n                        ...options,\n                        maxAge: 0\n                    });\n                } catch  {\n                // The `delete` method was called from a Server Component.\n                // This can be ignored if you have middleware refreshing\n                // user sessions.\n                }\n            }\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlL3NlcnZlci50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFzRTtBQUcvRCxTQUFTQyxhQUFhQyxXQUc1QjtJQUNDLE9BQU9GLGlFQUFrQkEsQ0FDdkJHLDBDQUFvQyxFQUNwQ0Esa05BQXlDLEVBQ3pDO1FBQ0VJLFNBQVM7WUFDUEMsS0FBSUMsSUFBWTtnQkFDZCxPQUFPUCxZQUFZTSxHQUFHLENBQUNDLE9BQU9DO1lBQ2hDO1lBQ0FDLEtBQUlGLElBQVksRUFBRUMsS0FBYSxFQUFFRSxPQUFzQjtnQkFDckQsSUFBSTtvQkFDRlYsWUFBWVMsR0FBRyxDQUFDRixNQUFNQyxPQUFPRTtnQkFDL0IsRUFBRSxPQUFNO2dCQUNOLHVEQUF1RDtnQkFDdkQsd0RBQXdEO2dCQUN4RCxpQkFBaUI7Z0JBQ25CO1lBQ0Y7WUFDQUMsUUFBT0osSUFBWSxFQUFFRyxPQUFzQjtnQkFDekMsSUFBSTtvQkFDRlYsWUFBWVMsR0FBRyxDQUFDRixNQUFNLElBQUk7d0JBQUUsR0FBR0csT0FBTzt3QkFBRUUsUUFBUTtvQkFBRTtnQkFDcEQsRUFBRSxPQUFNO2dCQUNOLDBEQUEwRDtnQkFDMUQsd0RBQXdEO2dCQUN4RCxpQkFBaUI7Z0JBQ25CO1lBQ0Y7UUFDRjtJQUNGO0FBRUoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmliZS1tdnAvLi9zcmMvbGliL3N1cGFiYXNlL3NlcnZlci50cz8yZThlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVNlcnZlckNsaWVudCwgdHlwZSBDb29raWVPcHRpb25zIH0gZnJvbSAnQHN1cGFiYXNlL3NzcidcbmltcG9ydCB0eXBlIHsgRGF0YWJhc2UgfSBmcm9tICcuLi90eXBlcy9kYXRhYmFzZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNsaWVudChjb29raWVTdG9yZToge1xuICBnZXQ6IChuYW1lOiBzdHJpbmcpID0+IHsgdmFsdWU6IHN0cmluZyB9IHwgdW5kZWZpbmVkXG4gIHNldDogKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgb3B0aW9ucz86IGFueSkgPT4gdm9pZFxufSkge1xuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50PERhdGFiYXNlPihcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcbiAgICB7XG4gICAgICBjb29raWVzOiB7XG4gICAgICAgIGdldChuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgICByZXR1cm4gY29va2llU3RvcmUuZ2V0KG5hbWUpPy52YWx1ZVxuICAgICAgICB9LFxuICAgICAgICBzZXQobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBvcHRpb25zOiBDb29raWVPcHRpb25zKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvb2tpZVN0b3JlLnNldChuYW1lLCB2YWx1ZSwgb3B0aW9ucylcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIC8vIFRoZSBgc2V0YCBtZXRob2Qgd2FzIGNhbGxlZCBmcm9tIGEgU2VydmVyIENvbXBvbmVudC5cbiAgICAgICAgICAgIC8vIFRoaXMgY2FuIGJlIGlnbm9yZWQgaWYgeW91IGhhdmUgbWlkZGxld2FyZSByZWZyZXNoaW5nXG4gICAgICAgICAgICAvLyB1c2VyIHNlc3Npb25zLlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlKG5hbWU6IHN0cmluZywgb3B0aW9uczogQ29va2llT3B0aW9ucykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb29raWVTdG9yZS5zZXQobmFtZSwgJycsIHsgLi4ub3B0aW9ucywgbWF4QWdlOiAwIH0pXG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAvLyBUaGUgYGRlbGV0ZWAgbWV0aG9kIHdhcyBjYWxsZWQgZnJvbSBhIFNlcnZlciBDb21wb25lbnQuXG4gICAgICAgICAgICAvLyBUaGlzIGNhbiBiZSBpZ25vcmVkIGlmIHlvdSBoYXZlIG1pZGRsZXdhcmUgcmVmcmVzaGluZ1xuICAgICAgICAgICAgLy8gdXNlciBzZXNzaW9ucy5cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH1cbiAgKVxufSJdLCJuYW1lcyI6WyJjcmVhdGVTZXJ2ZXJDbGllbnQiLCJjcmVhdGVDbGllbnQiLCJjb29raWVTdG9yZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImNvb2tpZXMiLCJnZXQiLCJuYW1lIiwidmFsdWUiLCJzZXQiLCJvcHRpb25zIiwicmVtb3ZlIiwibWF4QWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/server.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/validation/recipients.ts":
/*!******************************************!*\
  !*** ./src/lib/validation/recipients.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CHANNEL_OPTIONS: () => (/* binding */ CHANNEL_OPTIONS),\n/* harmony export */   CONTENT_TYPE_OPTIONS: () => (/* binding */ CONTENT_TYPE_OPTIONS),\n/* harmony export */   FREQUENCY_OPTIONS: () => (/* binding */ FREQUENCY_OPTIONS),\n/* harmony export */   RELATIONSHIP_OPTIONS: () => (/* binding */ RELATIONSHIP_OPTIONS),\n/* harmony export */   addRecipientSchema: () => (/* binding */ addRecipientSchema),\n/* harmony export */   recipientGroupSchema: () => (/* binding */ recipientGroupSchema),\n/* harmony export */   updatePreferencesSchema: () => (/* binding */ updatePreferencesSchema),\n/* harmony export */   updateRecipientSchema: () => (/* binding */ updateRecipientSchema),\n/* harmony export */   validateContactMethod: () => (/* binding */ validateContactMethod),\n/* harmony export */   validateEmail: () => (/* binding */ validateEmail),\n/* harmony export */   validatePhone: () => (/* binding */ validatePhone)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n\n/**\n * Base schema without refinements for partial updates\n */ const baseRecipientSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, 'Name is required').max(100, 'Name must be less than 100 characters').trim(),\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.string().email('Invalid email address').optional().or(zod__WEBPACK_IMPORTED_MODULE_0__.literal('')),\n    phone: zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^[\\+]?[1-9][\\d]{0,15}$/, 'Invalid phone number').optional().or(zod__WEBPACK_IMPORTED_MODULE_0__.literal('')),\n    relationship: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'grandparent',\n        'parent',\n        'sibling',\n        'friend',\n        'family',\n        'colleague',\n        'other'\n    ], {\n        errorMap: ()=>({\n                message: 'Please select a valid relationship type'\n            })\n    }),\n    group_id: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid group ID').optional(),\n    frequency: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'every_update',\n        'daily_digest',\n        'weekly_digest',\n        'milestones_only'\n    ]).default('weekly_digest'),\n    preferred_channels: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'email',\n        'sms',\n        'whatsapp'\n    ])).min(1, 'At least one communication channel is required').default([\n        'email'\n    ]),\n    content_types: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'photos',\n        'text',\n        'milestones'\n    ])).min(1, 'At least one content type is required').default([\n        'photos',\n        'text'\n    ])\n});\n/**\n * Validation schema for adding a new recipient\n * Ensures either email or phone is provided, with proper validation for both\n */ const addRecipientSchema = baseRecipientSchema.refine((data)=>{\n    // Ensure at least email or phone is provided\n    return data.email && data.email.trim() !== '' || data.phone && data.phone.trim() !== '';\n}, {\n    message: 'Either email or phone number is required',\n    path: [\n        'email'\n    ] // Show error on email field\n}).refine((data)=>{\n    // If SMS is selected as channel, phone must be provided\n    if (data.preferred_channels.includes('sms') || data.preferred_channels.includes('whatsapp')) {\n        return data.phone && data.phone.trim() !== '';\n    }\n    return true;\n}, {\n    message: 'Phone number is required for SMS or WhatsApp notifications',\n    path: [\n        'phone'\n    ]\n}).refine((data)=>{\n    // If email is selected as channel, email must be provided\n    if (data.preferred_channels.includes('email')) {\n        return data.email && data.email.trim() !== '';\n    }\n    return true;\n}, {\n    message: 'Email address is required for email notifications',\n    path: [\n        'email'\n    ]\n});\n/**\n * Validation schema for updating recipient preferences via magic link\n * Used when recipients update their own preferences without authentication\n */ const updatePreferencesSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    frequency: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'every_update',\n        'daily_digest',\n        'weekly_digest',\n        'milestones_only'\n    ], {\n        errorMap: ()=>({\n                message: 'Please select a valid frequency option'\n            })\n    }),\n    preferred_channels: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'email',\n        'sms',\n        'whatsapp'\n    ])).min(1, 'At least one communication channel must be selected'),\n    content_types: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'photos',\n        'text',\n        'milestones'\n    ])).min(1, 'At least one content type must be selected')\n});\n/**\n * Validation schema for creating or updating recipient groups\n */ const recipientGroupSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, 'Group name is required').max(50, 'Group name must be less than 50 characters').trim(),\n    default_frequency: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'every_update',\n        'daily_digest',\n        'weekly_digest',\n        'milestones_only'\n    ]).default('weekly_digest'),\n    default_channels: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'email',\n        'sms',\n        'whatsapp'\n    ])).min(1, 'At least one default channel is required').default([\n        'email'\n    ])\n});\n/**\n * Validation schema for updating existing recipients\n * Similar to add schema but with optional fields for partial updates\n */ const updateRecipientSchema = baseRecipientSchema.partial().refine((data)=>{\n    // If any data is provided, ensure email or phone constraint is still met\n    if (data.email !== undefined || data.phone !== undefined) {\n        const email = data.email || '';\n        const phone = data.phone || '';\n        return email && email.trim() !== '' || phone && phone.trim() !== '';\n    }\n    return true;\n}, {\n    message: 'Either email or phone number must be provided',\n    path: [\n        'email'\n    ]\n});\n// Helper constants for form options\nconst RELATIONSHIP_OPTIONS = [\n    {\n        value: 'grandparent',\n        label: 'Grandparent'\n    },\n    {\n        value: 'parent',\n        label: 'Parent'\n    },\n    {\n        value: 'sibling',\n        label: 'Sibling'\n    },\n    {\n        value: 'friend',\n        label: 'Friend'\n    },\n    {\n        value: 'family',\n        label: 'Family Member'\n    },\n    {\n        value: 'colleague',\n        label: 'Colleague'\n    },\n    {\n        value: 'other',\n        label: 'Other'\n    }\n];\nconst FREQUENCY_OPTIONS = [\n    {\n        value: 'every_update',\n        label: 'Every Update',\n        description: 'Get notified immediately for each new update'\n    },\n    {\n        value: 'daily_digest',\n        label: 'Daily Digest',\n        description: 'Receive a summary once per day'\n    },\n    {\n        value: 'weekly_digest',\n        label: 'Weekly Digest',\n        description: 'Receive a summary once per week'\n    },\n    {\n        value: 'milestones_only',\n        label: 'Milestones Only',\n        description: 'Only receive major milestone updates'\n    }\n];\nconst CHANNEL_OPTIONS = [\n    {\n        value: 'email',\n        label: 'Email',\n        description: 'Receive updates via email'\n    },\n    {\n        value: 'sms',\n        label: 'SMS',\n        description: 'Receive updates via text message'\n    },\n    {\n        value: 'whatsapp',\n        label: 'WhatsApp',\n        description: 'Receive updates via WhatsApp'\n    }\n];\nconst CONTENT_TYPE_OPTIONS = [\n    {\n        value: 'photos',\n        label: 'Photos',\n        description: 'Include photos in updates'\n    },\n    {\n        value: 'text',\n        label: 'Text Updates',\n        description: 'Include text descriptions and stories'\n    },\n    {\n        value: 'milestones',\n        label: 'Milestones',\n        description: 'Include milestone achievements and growth tracking'\n    }\n];\n/**\n * Validates an email address format\n */ function validateEmail(email) {\n    if (!email || email.trim() === '') return null;\n    const emailSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().email();\n    const result = emailSchema.safeParse(email);\n    return result.success ? null : 'Invalid email address';\n}\n/**\n * Validates a phone number format\n */ function validatePhone(phone) {\n    if (!phone || phone.trim() === '') return null;\n    const phoneSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^[\\+]?[1-9][\\d]{0,15}$/);\n    const result = phoneSchema.safeParse(phone);\n    return result.success ? null : 'Invalid phone number format';\n}\n/**\n * Validates that at least one contact method (email or phone) is provided\n */ function validateContactMethod(email, phone) {\n    const hasEmail = email && email.trim() !== '';\n    const hasPhone = phone && phone.trim() !== '';\n    if (!hasEmail && !hasPhone) {\n        return 'Either email or phone number is required';\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUM7SUFDckMsTUFBTWlDLFNBQVNJLFlBQVlILFNBQVMsQ0FBQ25DO0lBRXJDLE9BQU9rQyxPQUFPRSxPQUFPLEdBQUcsT0FBTztBQUNqQztBQUVBOztDQUVDLEdBQ00sU0FBU0csc0JBQXNCM0MsS0FBYyxFQUFFSSxLQUFjO0lBQ2xFLE1BQU13QyxXQUFXNUMsU0FBU0EsTUFBTUQsSUFBSSxPQUFPO0lBQzNDLE1BQU04QyxXQUFXekMsU0FBU0EsTUFBTUwsSUFBSSxPQUFPO0lBRTNDLElBQUksQ0FBQzZDLFlBQVksQ0FBQ0MsVUFBVTtRQUMxQixPQUFPO0lBQ1Q7SUFFQSxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmliZS1tdnAvLi9zcmMvbGliL3ZhbGlkYXRpb24vcmVjaXBpZW50cy50cz80OGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tICd6b2QnXG5cbi8qKlxuICogQmFzZSBzY2hlbWEgd2l0aG91dCByZWZpbmVtZW50cyBmb3IgcGFydGlhbCB1cGRhdGVzXG4gKi9cbmNvbnN0IGJhc2VSZWNpcGllbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKClcbiAgICAubWluKDEsICdOYW1lIGlzIHJlcXVpcmVkJylcbiAgICAubWF4KDEwMCwgJ05hbWUgbXVzdCBiZSBsZXNzIHRoYW4gMTAwIGNoYXJhY3RlcnMnKVxuICAgIC50cmltKCksXG5cbiAgZW1haWw6IHouc3RyaW5nKClcbiAgICAuZW1haWwoJ0ludmFsaWQgZW1haWwgYWRkcmVzcycpXG4gICAgLm9wdGlvbmFsKClcbiAgICAub3Ioei5saXRlcmFsKCcnKSksXG5cbiAgcGhvbmU6IHouc3RyaW5nKClcbiAgICAucmVnZXgoL15bXFwrXT9bMS05XVtcXGRdezAsMTV9JC8sICdJbnZhbGlkIHBob25lIG51bWJlcicpXG4gICAgLm9wdGlvbmFsKClcbiAgICAub3Ioei5saXRlcmFsKCcnKSksXG5cbiAgcmVsYXRpb25zaGlwOiB6LmVudW0oW1xuICAgICdncmFuZHBhcmVudCcsXG4gICAgJ3BhcmVudCcsXG4gICAgJ3NpYmxpbmcnLFxuICAgICdmcmllbmQnLFxuICAgICdmYW1pbHknLFxuICAgICdjb2xsZWFndWUnLFxuICAgICdvdGhlcidcbiAgXSwge1xuICAgIGVycm9yTWFwOiAoKSA9PiAoeyBtZXNzYWdlOiAnUGxlYXNlIHNlbGVjdCBhIHZhbGlkIHJlbGF0aW9uc2hpcCB0eXBlJyB9KVxuICB9KSxcblxuICBncm91cF9pZDogei5zdHJpbmcoKS51dWlkKCdJbnZhbGlkIGdyb3VwIElEJykub3B0aW9uYWwoKSxcblxuICBmcmVxdWVuY3k6IHouZW51bShbXG4gICAgJ2V2ZXJ5X3VwZGF0ZScsXG4gICAgJ2RhaWx5X2RpZ2VzdCcsXG4gICAgJ3dlZWtseV9kaWdlc3QnLFxuICAgICdtaWxlc3RvbmVzX29ubHknXG4gIF0pLmRlZmF1bHQoJ3dlZWtseV9kaWdlc3QnKSxcblxuICBwcmVmZXJyZWRfY2hhbm5lbHM6IHouYXJyYXkoei5lbnVtKFsnZW1haWwnLCAnc21zJywgJ3doYXRzYXBwJ10pKVxuICAgIC5taW4oMSwgJ0F0IGxlYXN0IG9uZSBjb21tdW5pY2F0aW9uIGNoYW5uZWwgaXMgcmVxdWlyZWQnKVxuICAgIC5kZWZhdWx0KFsnZW1haWwnXSksXG5cbiAgY29udGVudF90eXBlczogei5hcnJheSh6LmVudW0oWydwaG90b3MnLCAndGV4dCcsICdtaWxlc3RvbmVzJ10pKVxuICAgIC5taW4oMSwgJ0F0IGxlYXN0IG9uZSBjb250ZW50IHR5cGUgaXMgcmVxdWlyZWQnKVxuICAgIC5kZWZhdWx0KFsncGhvdG9zJywgJ3RleHQnXSlcbn0pXG5cbi8qKlxuICogVmFsaWRhdGlvbiBzY2hlbWEgZm9yIGFkZGluZyBhIG5ldyByZWNpcGllbnRcbiAqIEVuc3VyZXMgZWl0aGVyIGVtYWlsIG9yIHBob25lIGlzIHByb3ZpZGVkLCB3aXRoIHByb3BlciB2YWxpZGF0aW9uIGZvciBib3RoXG4gKi9cbmV4cG9ydCBjb25zdCBhZGRSZWNpcGllbnRTY2hlbWEgPSBiYXNlUmVjaXBpZW50U2NoZW1hLnJlZmluZSgoZGF0YSkgPT4ge1xuICAvLyBFbnN1cmUgYXQgbGVhc3QgZW1haWwgb3IgcGhvbmUgaXMgcHJvdmlkZWRcbiAgcmV0dXJuIChkYXRhLmVtYWlsICYmIGRhdGEuZW1haWwudHJpbSgpICE9PSAnJykgfHwgKGRhdGEucGhvbmUgJiYgZGF0YS5waG9uZS50cmltKCkgIT09ICcnKVxufSwge1xuICBtZXNzYWdlOiAnRWl0aGVyIGVtYWlsIG9yIHBob25lIG51bWJlciBpcyByZXF1aXJlZCcsXG4gIHBhdGg6IFsnZW1haWwnXSAvLyBTaG93IGVycm9yIG9uIGVtYWlsIGZpZWxkXG59KS5yZWZpbmUoKGRhdGEpID0+IHtcbiAgLy8gSWYgU01TIGlzIHNlbGVjdGVkIGFzIGNoYW5uZWwsIHBob25lIG11c3QgYmUgcHJvdmlkZWRcbiAgaWYgKGRhdGEucHJlZmVycmVkX2NoYW5uZWxzLmluY2x1ZGVzKCdzbXMnKSB8fCBkYXRhLnByZWZlcnJlZF9jaGFubmVscy5pbmNsdWRlcygnd2hhdHNhcHAnKSkge1xuICAgIHJldHVybiBkYXRhLnBob25lICYmIGRhdGEucGhvbmUudHJpbSgpICE9PSAnJ1xuICB9XG4gIHJldHVybiB0cnVlXG59LCB7XG4gIG1lc3NhZ2U6ICdQaG9uZSBudW1iZXIgaXMgcmVxdWlyZWQgZm9yIFNNUyBvciBXaGF0c0FwcCBub3RpZmljYXRpb25zJyxcbiAgcGF0aDogWydwaG9uZSddXG59KS5yZWZpbmUoKGRhdGEpID0+IHtcbiAgLy8gSWYgZW1haWwgaXMgc2VsZWN0ZWQgYXMgY2hhbm5lbCwgZW1haWwgbXVzdCBiZSBwcm92aWRlZFxuICBpZiAoZGF0YS5wcmVmZXJyZWRfY2hhbm5lbHMuaW5jbHVkZXMoJ2VtYWlsJykpIHtcbiAgICByZXR1cm4gZGF0YS5lbWFpbCAmJiBkYXRhLmVtYWlsLnRyaW0oKSAhPT0gJydcbiAgfVxuICByZXR1cm4gdHJ1ZVxufSwge1xuICBtZXNzYWdlOiAnRW1haWwgYWRkcmVzcyBpcyByZXF1aXJlZCBmb3IgZW1haWwgbm90aWZpY2F0aW9ucycsXG4gIHBhdGg6IFsnZW1haWwnXVxufSlcblxuLyoqXG4gKiBWYWxpZGF0aW9uIHNjaGVtYSBmb3IgdXBkYXRpbmcgcmVjaXBpZW50IHByZWZlcmVuY2VzIHZpYSBtYWdpYyBsaW5rXG4gKiBVc2VkIHdoZW4gcmVjaXBpZW50cyB1cGRhdGUgdGhlaXIgb3duIHByZWZlcmVuY2VzIHdpdGhvdXQgYXV0aGVudGljYXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVByZWZlcmVuY2VzU2NoZW1hID0gei5vYmplY3Qoe1xuICBmcmVxdWVuY3k6IHouZW51bShbXG4gICAgJ2V2ZXJ5X3VwZGF0ZScsXG4gICAgJ2RhaWx5X2RpZ2VzdCcsXG4gICAgJ3dlZWtseV9kaWdlc3QnLFxuICAgICdtaWxlc3RvbmVzX29ubHknXG4gIF0sIHtcbiAgICBlcnJvck1hcDogKCkgPT4gKHsgbWVzc2FnZTogJ1BsZWFzZSBzZWxlY3QgYSB2YWxpZCBmcmVxdWVuY3kgb3B0aW9uJyB9KVxuICB9KSxcblxuICBwcmVmZXJyZWRfY2hhbm5lbHM6IHouYXJyYXkoei5lbnVtKFsnZW1haWwnLCAnc21zJywgJ3doYXRzYXBwJ10pKVxuICAgIC5taW4oMSwgJ0F0IGxlYXN0IG9uZSBjb21tdW5pY2F0aW9uIGNoYW5uZWwgbXVzdCBiZSBzZWxlY3RlZCcpLFxuXG4gIGNvbnRlbnRfdHlwZXM6IHouYXJyYXkoei5lbnVtKFsncGhvdG9zJywgJ3RleHQnLCAnbWlsZXN0b25lcyddKSlcbiAgICAubWluKDEsICdBdCBsZWFzdCBvbmUgY29udGVudCB0eXBlIG11c3QgYmUgc2VsZWN0ZWQnKVxufSlcblxuLyoqXG4gKiBWYWxpZGF0aW9uIHNjaGVtYSBmb3IgY3JlYXRpbmcgb3IgdXBkYXRpbmcgcmVjaXBpZW50IGdyb3Vwc1xuICovXG5leHBvcnQgY29uc3QgcmVjaXBpZW50R3JvdXBTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKClcbiAgICAubWluKDEsICdHcm91cCBuYW1lIGlzIHJlcXVpcmVkJylcbiAgICAubWF4KDUwLCAnR3JvdXAgbmFtZSBtdXN0IGJlIGxlc3MgdGhhbiA1MCBjaGFyYWN0ZXJzJylcbiAgICAudHJpbSgpLFxuXG4gIGRlZmF1bHRfZnJlcXVlbmN5OiB6LmVudW0oW1xuICAgICdldmVyeV91cGRhdGUnLFxuICAgICdkYWlseV9kaWdlc3QnLFxuICAgICd3ZWVrbHlfZGlnZXN0JyxcbiAgICAnbWlsZXN0b25lc19vbmx5J1xuICBdKS5kZWZhdWx0KCd3ZWVrbHlfZGlnZXN0JyksXG5cbiAgZGVmYXVsdF9jaGFubmVsczogei5hcnJheSh6LmVudW0oWydlbWFpbCcsICdzbXMnLCAnd2hhdHNhcHAnXSkpXG4gICAgLm1pbigxLCAnQXQgbGVhc3Qgb25lIGRlZmF1bHQgY2hhbm5lbCBpcyByZXF1aXJlZCcpXG4gICAgLmRlZmF1bHQoWydlbWFpbCddKVxufSlcblxuLyoqXG4gKiBWYWxpZGF0aW9uIHNjaGVtYSBmb3IgdXBkYXRpbmcgZXhpc3RpbmcgcmVjaXBpZW50c1xuICogU2ltaWxhciB0byBhZGQgc2NoZW1hIGJ1dCB3aXRoIG9wdGlvbmFsIGZpZWxkcyBmb3IgcGFydGlhbCB1cGRhdGVzXG4gKi9cbmV4cG9ydCBjb25zdCB1cGRhdGVSZWNpcGllbnRTY2hlbWEgPSBiYXNlUmVjaXBpZW50U2NoZW1hLnBhcnRpYWwoKS5yZWZpbmUoKGRhdGEpID0+IHtcbiAgLy8gSWYgYW55IGRhdGEgaXMgcHJvdmlkZWQsIGVuc3VyZSBlbWFpbCBvciBwaG9uZSBjb25zdHJhaW50IGlzIHN0aWxsIG1ldFxuICBpZiAoZGF0YS5lbWFpbCAhPT0gdW5kZWZpbmVkIHx8IGRhdGEucGhvbmUgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGVtYWlsID0gZGF0YS5lbWFpbCB8fCAnJ1xuICAgIGNvbnN0IHBob25lID0gZGF0YS5waG9uZSB8fCAnJ1xuICAgIHJldHVybiAoZW1haWwgJiYgZW1haWwudHJpbSgpICE9PSAnJykgfHwgKHBob25lICYmIHBob25lLnRyaW0oKSAhPT0gJycpXG4gIH1cbiAgcmV0dXJuIHRydWVcbn0sIHtcbiAgbWVzc2FnZTogJ0VpdGhlciBlbWFpbCBvciBwaG9uZSBudW1iZXIgbXVzdCBiZSBwcm92aWRlZCcsXG4gIHBhdGg6IFsnZW1haWwnXVxufSlcblxuLy8gVHlwZSBleHBvcnRzIGZvciB1c2UgaW4gY29tcG9uZW50c1xuZXhwb3J0IHR5cGUgQWRkUmVjaXBpZW50Rm9ybURhdGEgPSB6LmluZmVyPHR5cGVvZiBhZGRSZWNpcGllbnRTY2hlbWE+XG5leHBvcnQgdHlwZSBVcGRhdGVQcmVmZXJlbmNlc0Zvcm1EYXRhID0gei5pbmZlcjx0eXBlb2YgdXBkYXRlUHJlZmVyZW5jZXNTY2hlbWE+XG5leHBvcnQgdHlwZSBSZWNpcGllbnRHcm91cEZvcm1EYXRhID0gei5pbmZlcjx0eXBlb2YgcmVjaXBpZW50R3JvdXBTY2hlbWE+XG5leHBvcnQgdHlwZSBVcGRhdGVSZWNpcGllbnRGb3JtRGF0YSA9IHouaW5mZXI8dHlwZW9mIHVwZGF0ZVJlY2lwaWVudFNjaGVtYT5cblxuLy8gSGVscGVyIGNvbnN0YW50cyBmb3IgZm9ybSBvcHRpb25zXG5leHBvcnQgY29uc3QgUkVMQVRJT05TSElQX09QVElPTlMgPSBbXG4gIHsgdmFsdWU6ICdncmFuZHBhcmVudCcsIGxhYmVsOiAnR3JhbmRwYXJlbnQnIH0sXG4gIHsgdmFsdWU6ICdwYXJlbnQnLCBsYWJlbDogJ1BhcmVudCcgfSxcbiAgeyB2YWx1ZTogJ3NpYmxpbmcnLCBsYWJlbDogJ1NpYmxpbmcnIH0sXG4gIHsgdmFsdWU6ICdmcmllbmQnLCBsYWJlbDogJ0ZyaWVuZCcgfSxcbiAgeyB2YWx1ZTogJ2ZhbWlseScsIGxhYmVsOiAnRmFtaWx5IE1lbWJlcicgfSxcbiAgeyB2YWx1ZTogJ2NvbGxlYWd1ZScsIGxhYmVsOiAnQ29sbGVhZ3VlJyB9LFxuICB7IHZhbHVlOiAnb3RoZXInLCBsYWJlbDogJ090aGVyJyB9XG5dIGFzIGNvbnN0XG5cbmV4cG9ydCBjb25zdCBGUkVRVUVOQ1lfT1BUSU9OUyA9IFtcbiAgeyB2YWx1ZTogJ2V2ZXJ5X3VwZGF0ZScsIGxhYmVsOiAnRXZlcnkgVXBkYXRlJywgZGVzY3JpcHRpb246ICdHZXQgbm90aWZpZWQgaW1tZWRpYXRlbHkgZm9yIGVhY2ggbmV3IHVwZGF0ZScgfSxcbiAgeyB2YWx1ZTogJ2RhaWx5X2RpZ2VzdCcsIGxhYmVsOiAnRGFpbHkgRGlnZXN0JywgZGVzY3JpcHRpb246ICdSZWNlaXZlIGEgc3VtbWFyeSBvbmNlIHBlciBkYXknIH0sXG4gIHsgdmFsdWU6ICd3ZWVrbHlfZGlnZXN0JywgbGFiZWw6ICdXZWVrbHkgRGlnZXN0JywgZGVzY3JpcHRpb246ICdSZWNlaXZlIGEgc3VtbWFyeSBvbmNlIHBlciB3ZWVrJyB9LFxuICB7IHZhbHVlOiAnbWlsZXN0b25lc19vbmx5JywgbGFiZWw6ICdNaWxlc3RvbmVzIE9ubHknLCBkZXNjcmlwdGlvbjogJ09ubHkgcmVjZWl2ZSBtYWpvciBtaWxlc3RvbmUgdXBkYXRlcycgfVxuXSBhcyBjb25zdFxuXG5leHBvcnQgY29uc3QgQ0hBTk5FTF9PUFRJT05TID0gW1xuICB7IHZhbHVlOiAnZW1haWwnLCBsYWJlbDogJ0VtYWlsJywgZGVzY3JpcHRpb246ICdSZWNlaXZlIHVwZGF0ZXMgdmlhIGVtYWlsJyB9LFxuICB7IHZhbHVlOiAnc21zJywgbGFiZWw6ICdTTVMnLCBkZXNjcmlwdGlvbjogJ1JlY2VpdmUgdXBkYXRlcyB2aWEgdGV4dCBtZXNzYWdlJyB9LFxuICB7IHZhbHVlOiAnd2hhdHNhcHAnLCBsYWJlbDogJ1doYXRzQXBwJywgZGVzY3JpcHRpb246ICdSZWNlaXZlIHVwZGF0ZXMgdmlhIFdoYXRzQXBwJyB9XG5dIGFzIGNvbnN0XG5cbmV4cG9ydCBjb25zdCBDT05URU5UX1RZUEVfT1BUSU9OUyA9IFtcbiAgeyB2YWx1ZTogJ3Bob3RvcycsIGxhYmVsOiAnUGhvdG9zJywgZGVzY3JpcHRpb246ICdJbmNsdWRlIHBob3RvcyBpbiB1cGRhdGVzJyB9LFxuICB7IHZhbHVlOiAndGV4dCcsIGxhYmVsOiAnVGV4dCBVcGRhdGVzJywgZGVzY3JpcHRpb246ICdJbmNsdWRlIHRleHQgZGVzY3JpcHRpb25zIGFuZCBzdG9yaWVzJyB9LFxuICB7IHZhbHVlOiAnbWlsZXN0b25lcycsIGxhYmVsOiAnTWlsZXN0b25lcycsIGRlc2NyaXB0aW9uOiAnSW5jbHVkZSBtaWxlc3RvbmUgYWNoaWV2ZW1lbnRzIGFuZCBncm93dGggdHJhY2tpbmcnIH1cbl0gYXMgY29uc3RcblxuLyoqXG4gKiBWYWxpZGF0ZXMgYW4gZW1haWwgYWRkcmVzcyBmb3JtYXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRW1haWwoZW1haWw6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICBpZiAoIWVtYWlsIHx8IGVtYWlsLnRyaW0oKSA9PT0gJycpIHJldHVybiBudWxsXG5cbiAgY29uc3QgZW1haWxTY2hlbWEgPSB6LnN0cmluZygpLmVtYWlsKClcbiAgY29uc3QgcmVzdWx0ID0gZW1haWxTY2hlbWEuc2FmZVBhcnNlKGVtYWlsKVxuXG4gIHJldHVybiByZXN1bHQuc3VjY2VzcyA/IG51bGwgOiAnSW52YWxpZCBlbWFpbCBhZGRyZXNzJ1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBhIHBob25lIG51bWJlciBmb3JtYXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUGhvbmUocGhvbmU6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICBpZiAoIXBob25lIHx8IHBob25lLnRyaW0oKSA9PT0gJycpIHJldHVybiBudWxsXG5cbiAgY29uc3QgcGhvbmVTY2hlbWEgPSB6LnN0cmluZygpLnJlZ2V4KC9eW1xcK10/WzEtOV1bXFxkXXswLDE1fSQvKVxuICBjb25zdCByZXN1bHQgPSBwaG9uZVNjaGVtYS5zYWZlUGFyc2UocGhvbmUpXG5cbiAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzID8gbnVsbCA6ICdJbnZhbGlkIHBob25lIG51bWJlciBmb3JtYXQnXG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoYXQgYXQgbGVhc3Qgb25lIGNvbnRhY3QgbWV0aG9kIChlbWFpbCBvciBwaG9uZSkgaXMgcHJvdmlkZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQ29udGFjdE1ldGhvZChlbWFpbD86IHN0cmluZywgcGhvbmU/OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgY29uc3QgaGFzRW1haWwgPSBlbWFpbCAmJiBlbWFpbC50cmltKCkgIT09ICcnXG4gIGNvbnN0IGhhc1Bob25lID0gcGhvbmUgJiYgcGhvbmUudHJpbSgpICE9PSAnJ1xuXG4gIGlmICghaGFzRW1haWwgJiYgIWhhc1Bob25lKSB7XG4gICAgcmV0dXJuICdFaXRoZXIgZW1haWwgb3IgcGhvbmUgbnVtYmVyIGlzIHJlcXVpcmVkJ1xuICB9XG5cbiAgcmV0dXJuIG51bGxcbn0iXSwibmFtZXMiOlsieiIsImJhc2VSZWNpcGllbnRTY2hlbWEiLCJvYmplY3QiLCJuYW1lIiwic3RyaW5nIiwibWluIiwibWF4IiwidHJpbSIsImVtYWlsIiwib3B0aW9uYWwiLCJvciIsImxpdGVyYWwiLCJwaG9uZSIsInJlZ2V4IiwicmVsYXRpb25zaGlwIiwiZW51bSIsImVycm9yTWFwIiwibWVzc2FnZSIsImdyb3VwX2lkIiwidXVpZCIsImZyZXF1ZW5jeSIsImRlZmF1bHQiLCJwcmVmZXJyZWRfY2hhbm5lbHMiLCJhcnJheSIsImNvbnRlbnRfdHlwZXMiLCJhZGRSZWNpcGllbnRTY2hlbWEiLCJyZWZpbmUiLCJkYXRhIiwicGF0aCIsImluY2x1ZGVzIiwidXBkYXRlUHJlZmVyZW5jZXNTY2hlbWEiLCJyZWNpcGllbnRHcm91cFNjaGVtYSIsImRlZmF1bHRfZnJlcXVlbmN5IiwiZGVmYXVsdF9jaGFubmVscyIsInVwZGF0ZVJlY2lwaWVudFNjaGVtYSIsInBhcnRpYWwiLCJ1bmRlZmluZWQiLCJSRUxBVElPTlNISVBfT1BUSU9OUyIsInZhbHVlIiwibGFiZWwiLCJGUkVRVUVOQ1lfT1BUSU9OUyIsImRlc2NyaXB0aW9uIiwiQ0hBTk5FTF9PUFRJT05TIiwiQ09OVEVOVF9UWVBFX09QVElPTlMiLCJ2YWxpZGF0ZUVtYWlsIiwiZW1haWxTY2hlbWEiLCJyZXN1bHQiLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwidmFsaWRhdGVQaG9uZSIsInBob25lU2NoZW1hIiwidmFsaWRhdGVDb250YWN0TWV0aG9kIiwiaGFzRW1haWwiLCJoYXNQaG9uZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/validation/recipients.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/ramda","vendor-chunks/cookie","vendor-chunks/webidl-conversions","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fpreferences%2F%5Btoken%5D%2Froute&page=%2Fapi%2Fpreferences%2F%5Btoken%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpreferences%2F%5Btoken%5D%2Froute.ts&appDir=%2FUsers%2Fcolinrodrigues%2Ftribe_mvp%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcolinrodrigues%2Ftribe_mvp&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();