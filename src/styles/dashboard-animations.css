/* Dashboard Mobile-First Animations & Micro-interactions */

/* =============================================================================
   CORE ANIMATIONS
   ============================================================================= */

/* Fade in with slide up - for content appearing */
@keyframes fadeInSlideUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Gentle bounce for interactive elements */
@keyframes bounceGentle {
  0%, 20%, 53%, 80%, 100% {
    transform: translate3d(0,0,0) scale(1);
  }
  40%, 43% {
    transform: translate3d(0, -8px, 0) scale(1.02);
  }
  70% {
    transform: translate3d(0, -4px, 0) scale(1.01);
  }
  90% {
    transform: translate3d(0, -2px, 0) scale(1.005);
  }
}

/* Shimmer effect for progress bars */
@keyframes shimmer {
  0% {
    transform: translateX(-100%) skewX(-12deg);
  }
  100% {
    transform: translateX(200%) skewX(-12deg);
  }
}

/* Confetti fall animation */
@keyframes confetti-fall {
  0% {
    transform: translateY(-100vh) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(720deg);
    opacity: 0;
  }
}

/* Pulse for notification indicators */
@keyframes pulse-notification {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.1);
  }
}

/* Loading spinner */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Celebration bounce for completed steps */
@keyframes celebration-bounce {
  0%, 20%, 53%, 80%, 100% {
    transform: translate3d(0,0,0) scale(1);
  }
  40%, 43% {
    transform: translate3d(0, -8px, 0) scale(1.05);
    box-shadow: 0 8px 25px rgba(243, 132, 28, 0.3);
  }
  70% {
    transform: translate3d(0, -4px, 0) scale(1.02);
    box-shadow: 0 6px 20px rgba(243, 132, 28, 0.2);
  }
  90% {
    transform: translate3d(0, -2px, 0) scale(1.01);
    box-shadow: 0 4px 15px rgba(243, 132, 28, 0.1);
  }
}

/* Heartbeat for likes */
@keyframes heartbeat {
  0% {
    transform: scale(1);
  }
  14% {
    transform: scale(1.3);
  }
  28% {
    transform: scale(1);
  }
  42% {
    transform: scale(1.3);
  }
  70% {
    transform: scale(1);
  }
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */

.animate-fade-in {
  animation: fadeInSlideUp 0.5s ease-out;
}

.animate-slide-up {
  animation: fadeInSlideUp 0.3s ease-out;
}

.animate-bounce-gentle {
  animation: bounceGentle 3s infinite ease-in-out;
}

.animate-shimmer {
  animation: shimmer 2s infinite;
}

.animate-confetti-fall {
  animation: confetti-fall 3s ease-out forwards;
}

.animate-pulse-notification {
  animation: pulse-notification 2s infinite;
}

.animate-spin {
  animation: spin 1s linear infinite;
}

.animate-celebration-bounce {
  animation: celebration-bounce 0.8s ease-out;
}

.animate-heartbeat {
  animation: heartbeat 1.3s ease-in-out;
}

/* =============================================================================
   COMPONENT-SPECIFIC ANIMATIONS
   ============================================================================= */

/* Dashboard Hero Animations */
.dashboard-hero-enter {
  animation: fadeInSlideUp 0.6s ease-out;
}

.hero-button-press {
  transition: all 0.1s ease;
}

.hero-button-press:active {
  transform: translateY(1px) scale(0.98);
}

.hero-dropdown-enter {
  animation: fadeInSlideUp 0.2s ease-out;
}

.hero-dropdown-item {
  opacity: 0;
  animation: fadeInSlideUp 0.3s ease-out forwards;
}

.hero-dropdown-item:nth-child(1) { animation-delay: 0ms; }
.hero-dropdown-item:nth-child(2) { animation-delay: 50ms; }
.hero-dropdown-item:nth-child(3) { animation-delay: 100ms; }
.hero-dropdown-item:nth-child(4) { animation-delay: 150ms; }

/* Update Card Animations */
.update-card-enter {
  opacity: 0;
  transform: translateY(20px) scale(0.98);
  animation: card-enter 0.4s ease-out forwards;
}

@keyframes card-enter {
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.update-card-hover {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.update-card-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
}

.update-card-press {
  transition: all 0.1s ease;
}

.update-card-press:active {
  transform: translateY(0) scale(0.98);
}

/* Like Button Animation */
.like-button {
  transition: all 0.2s ease;
}

.like-button:hover {
  transform: scale(1.1);
}

.like-button.liked {
  color: #ef4444;
  animation: heartbeat 0.8s ease-in-out;
}

/* Loading States */
.skeleton-pulse {
  animation: skeleton-pulse 1.5s ease-in-out infinite;
}

@keyframes skeleton-pulse {
  0%, 100% {
    background-position: 200% 0;
  }
  50% {
    background-position: -200% 0;
  }
}

.loading-dots {
  display: inline-flex;
  align-items: center;
}

.loading-dot {
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background-color: currentColor;
  margin: 0 1px;
  animation: loading-dots 1.4s infinite ease-in-out;
}

.loading-dot:nth-child(1) { animation-delay: -0.32s; }
.loading-dot:nth-child(2) { animation-delay: -0.16s; }
.loading-dot:nth-child(3) { animation-delay: 0s; }

@keyframes loading-dots {
  0%, 80%, 100% {
    transform: scale(0);
    opacity: 0.5;
  }
  40% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Search Bar Animations */
.search-focus-ring {
  transition: all 0.2s ease;
}

.search-focus-ring:focus-within {
  transform: scale(1.02);
}

.filter-chip-enter {
  opacity: 0;
  transform: translateX(-10px);
  animation: filter-chip-enter 0.3s ease-out forwards;
}

@keyframes filter-chip-enter {
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.filter-chip-active {
  transition: all 0.2s ease;
  animation: gentle-bounce 0.3s ease-out;
}

@keyframes gentle-bounce {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

/* Progress Bar Animations */
.progress-fill {
  transition: width 0.7s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.progress-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.4) 50%,
    transparent 100%
  );
  animation: shimmer 2s infinite;
}

/* Empty State Animations */
.empty-state-enter {
  animation: empty-state-enter 0.8s ease-out;
}

@keyframes empty-state-enter {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }
  50% {
    opacity: 0.7;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.prompt-rotation {
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.prompt-enter {
  animation: prompt-rotate 0.5s ease-in-out;
}

@keyframes prompt-rotate {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* =============================================================================
   MOBILE-SPECIFIC OPTIMIZATIONS
   ============================================================================= */

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .animate-bounce-gentle,
  .animate-shimmer,
  .animate-pulse-notification,
  .animate-spin {
    animation: none !important;
  }

  .update-card-hover:hover {
    transform: none;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .update-card-hover:hover {
    transform: none;
  }

  /* Enhance active states for touch */
  .hero-button-press:active,
  .update-card-press:active {
    transform: scale(0.95);
    transition: transform 0.1s ease;
  }

  /* Increase touch feedback */
  .like-button:active {
    transform: scale(1.2);
    transition: transform 0.1s ease;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .skeleton-pulse {
    background: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 10px,
      currentColor 10px,
      currentColor 20px
    );
  }
}

/* =============================================================================
   PERFORMANCE OPTIMIZATIONS
   ============================================================================= */

/* Use GPU acceleration for better performance */
.gpu-accelerated {
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Optimize repaints */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

/* =============================================================================
   STAGGER ANIMATIONS FOR LISTS
   ============================================================================= */

.stagger-children > * {
  opacity: 0;
  animation: fadeInSlideUp 0.5s ease-out forwards;
}

.stagger-children > *:nth-child(1) { animation-delay: 0ms; }
.stagger-children > *:nth-child(2) { animation-delay: 100ms; }
.stagger-children > *:nth-child(3) { animation-delay: 200ms; }
.stagger-children > *:nth-child(4) { animation-delay: 300ms; }
.stagger-children > *:nth-child(5) { animation-delay: 400ms; }
.stagger-children > *:nth-child(6) { animation-delay: 500ms; }
.stagger-children > *:nth-child(7) { animation-delay: 600ms; }
.stagger-children > *:nth-child(8) { animation-delay: 700ms; }
.stagger-children > *:nth-child(9) { animation-delay: 800ms; }
.stagger-children > *:nth-child(10) { animation-delay: 900ms; }

/* =============================================================================
   INTERACTION STATES
   ============================================================================= */

/* Focus states for accessibility */
.focus-ring:focus {
  outline: 2px solid #f3841c;
  outline-offset: 2px;
  border-radius: 8px;
}

.focus-ring:focus:not(:focus-visible) {
  outline: none;
}

/* Active states for mobile */
.mobile-active:active {
  background-color: rgba(0, 0, 0, 0.05);
  transform: scale(0.98);
  transition: all 0.1s ease;
}

/* Haptic feedback simulation */
.haptic-light:active {
  animation: haptic-light 0.1s ease-out;
}

@keyframes haptic-light {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(0.98); }
}

.haptic-medium:active {
  animation: haptic-medium 0.15s ease-out;
}

@keyframes haptic-medium {
  0%, 100% { transform: scale(1); }
  30% { transform: scale(0.95); }
  60% { transform: scale(1.02); }
}

/* =============================================================================
   DARK MODE CONSIDERATIONS
   ============================================================================= */

@media (prefers-color-scheme: dark) {
  .skeleton-pulse {
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.1) 25%,
      rgba(255, 255, 255, 0.2) 50%,
      rgba(255, 255, 255, 0.1) 75%
    );
    background-size: 200% 100%;
  }

  .progress-fill::after {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.2) 50%,
      transparent 100%
    );
  }
}