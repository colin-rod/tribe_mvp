@tailwind base;
@tailwind components;
@tailwind utilities;

/* Typography System for Tribe MVP
 *
 * Optimised for performance with fluid scaling and minimal overrides.
 * Tailwind layers ensure unused utilities are tree-shaken from the bundle.
 */

@layer base {
  html {
    font-feature-settings: 'cv03', 'cv04', 'cv11';
    font-variation-settings: 'opsz' 32;
    font-synthesis: none;
    text-rendering: optimizeLegibility;
  }

  body {
    font-family: theme('fontFamily.sans');
    font-size: 1rem;
    line-height: 1.625;
    color: theme('colors.neutral.800');
    background-color: theme('colors.neutral.50');
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  :is(h1, .h1, h2, .h2, h3, .h3, h4, .h4, h5, .h5, h6, .h6) {
    @apply text-neutral-900 font-semibold;
  }

  :is(h1, .h1, h2, .h2, h3, .h3) {
    @apply tracking-tight;
  }

  h1,
  .h1 {
    @apply text-6xl font-bold;
  }

  h2,
  .h2 {
    @apply text-5xl font-bold;
  }

  h3,
  .h3 {
    @apply text-4xl;
  }

  h4,
  .h4 {
    @apply text-3xl;
  }

  h5,
  .h5 {
    @apply text-2xl;
  }

  h6,
  .h6 {
    @apply text-xl;
  }

  p,
  .body {
    @apply text-base text-neutral-700;
  }

  .body-lg {
    @apply text-lg text-neutral-700;
  }

  .body-sm {
    @apply text-sm text-neutral-700;
  }

  .body-xs {
    @apply text-xs text-neutral-600;
  }

  code {
    @apply text-sm bg-neutral-100 text-neutral-800 px-1.5 py-0.5 rounded font-mono;
  }

  pre {
    @apply bg-neutral-900 text-neutral-100 p-4 rounded-lg overflow-x-auto;
  }

  pre code {
    @apply bg-transparent text-inherit p-0;
  }

  a,
  .link {
    @apply text-primary-600 font-medium transition-colors duration-200;
  }

  a:hover,
  .link:hover {
    @apply text-primary-700;
  }

  .link-subtle {
    @apply text-neutral-600 transition-colors duration-200;
  }

  .link-subtle:hover {
    @apply text-neutral-900;
  }
}

@layer components {
  :is(.display-xl, .display-lg, .display-md) {
    @apply font-bold text-neutral-900 tracking-tight;
  }

  .display-xl {
    font-size: clamp(4.5rem, 4vw + 3rem, 7.451rem);
    line-height: 1.05;
  }

  .display-lg {
    font-size: clamp(3.75rem, 3vw + 2.5rem, 5.96rem);
    line-height: 1.08;
  }

  .display-md {
    font-size: clamp(3rem, 2.5vw + 2rem, 4.768rem);
    line-height: 1.1;
  }

  .text-muted {
    @apply text-neutral-500;
  }

  .text-subtle {
    @apply text-neutral-600;
  }

  .text-emphasis {
    @apply text-neutral-900 font-medium;
  }

  .text-brand {
    @apply text-primary-600;
  }

  .text-success {
    @apply text-success-600;
  }

  .text-warning {
    @apply text-warning-600;
  }

  .text-error {
    @apply text-error-600;
  }

  .text-info {
    @apply text-info-600;
  }

  .caption {
    @apply text-sm text-neutral-500 font-medium;
  }

  .overline {
    @apply text-xs text-neutral-500 font-semibold uppercase tracking-wide;
  }

  .heading-xl-responsive {
    font-size: clamp(3.052rem, 2.5vw + 2.5rem, 4.768rem);
    line-height: 1.1;
    @apply font-bold text-neutral-900 tracking-tight;
  }

  .heading-lg-responsive {
    font-size: clamp(2.441rem, 2vw + 2rem, 3.815rem);
    line-height: 1.12;
    @apply font-bold text-neutral-900 tracking-tight;
  }

  .heading-md-responsive {
    font-size: clamp(1.953rem, 1.5vw + 1.7rem, 3.052rem);
    line-height: 1.18;
    @apply font-semibold text-neutral-900;
  }

  .heading-sm-responsive {
    font-size: clamp(1.563rem, 1.3vw + 1.3rem, 2.441rem);
    line-height: 1.22;
    @apply font-semibold text-neutral-900;
  }

  .text-responsive-xl {
    font-size: clamp(1.125rem, 0.8vw + 1rem, 1.563rem);
    line-height: 1.35;
  }

  .text-responsive-lg {
    font-size: clamp(1rem, 0.6vw + 0.9rem, 1.25rem);
    line-height: 1.4;
  }

  .text-responsive-base {
    font-size: clamp(0.875rem, 0.5vw + 0.8rem, 1.125rem);
    line-height: 1.45;
  }

  .text-responsive-sm {
    font-size: clamp(0.75rem, 0.45vw + 0.7rem, 1rem);
    line-height: 1.5;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}
